<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
  </head>
  <body>
    <script>
      // Get the URL parameter value for "encodedUrl"
      const urlParams = new URLSearchParams(window.location.search);
      const encodedUrl = urlParams.get('url');

      // Check if "encodedUrl" is empty or nonexistent
      if (!encodedUrl) {
        console.error('No "encodedUrl" parameter found.');
        // Display an error message to the user
        const errorMessage = document.createElement('p');
        errorMessage.textContent = 'Redirect error.';
        document.body.appendChild(errorMessage);
      } else {
        // Decode the base64 encoded URL
        let decodedUrl;
        try {
          decodedUrl = atob(decodeURIComponent(encodedUrl));
          // Check if "decodedUrl" is valid
          if (decodedUrl) {
            // Redirect the user to the decoded URL
            window.location.href = decodedUrl;
          } else {
            // Display an error message to the user
            const errorMessage = document.createElement('p');
            errorMessage.textContent = 'Redirect error.';
            document.body.appendChild(errorMessage);
          }
        } catch (e) {
          console.error('Error decoding base64 URL:', e);
          // Display an error message to the user
          const errorMessage = document.createElement('p');
          errorMessage.textContent = 'Redirect error.';
          document.body.appendChild(errorMessage);
        }
      }
    </script>
  </body>
</html>
